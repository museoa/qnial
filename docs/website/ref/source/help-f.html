
<html>
<head><script type="text/javascript" src="https://web-static.archive.org/_static/js/bundle-playback.js?v=qM_6omlu" charset="utf-8"></script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/wombat.js?v=txqj7nKC" charset="utf-8"></script>
<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={"autoplay":"on","unmuteOverlay":"hidden"};</script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/ruffle/ruffle.js"></script>
<script type="text/javascript">
    __wm.init("https://web.archive.org/web");
  __wm.wombat("http://www.nial.com:80/OnlineManuals/ReferenceHelpFiles/source/help-f.html","19991003104943","https://web.archive.org/","web","https://web-static.archive.org/_static/",
	      "938947783");
</script>
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/banner-styles.css?v=S1zqJCYt" />
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->

<title>Q&#39;Nial Nialhelp-F</title>
</head>

<body background="/web/19991003104943im_/http://www.nial.com/images/background1.gif">
<font face="ariel"><font face="Helvetica"><font size="2">
<a name="TOP">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-e.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/backward.gif" alt="PREV. PAGE"></a>
<a href="help-g.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/forward.gif" alt="NEXT PAGE"></a>
<a href="index.html"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/index.gif" alt="INDEX"></a>
<a href="search-form.html"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/search.gif" alt="SEARCH"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">

<a name="false">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#fault"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">False<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      constant expression<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      False<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-t.html#true">true</a>,
                     <a href="help-i.html#isoboolean">isoboolean</a><br>
</dl>

<p>The constant expression <i>False</i> denotes the boolean atom for &quotfalse;&quot;, which Nial also denotes by &quoto;&quot.;  It is the result of comparing two arrays that are not identical for equality.</p>

<pre>
     False (not False)
ol
</pre>

<br>
<b>Equations</b>

<center><pre>
tally False = 1

shape False = Null

single False = False

not False = True
</pre></center>

<a name="fault">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#false"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#filestatus"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Fault<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      conversion operation, a primitive<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      fault S<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-i.html#isfault">isfault</a>,
                     <a href="help-p.html#phrase">phrase</a>,
                     <a href="help-q.html#quite_fault">quite_fault</a>,
                     <a href="help-s.html#string">string</a><br>
</dl>

<p>The operation <i>fault</i> converts a string or phrase into the fault value with the string as its message.  If the argument is not a string, phrase or a fault, the result is the fault <i>?type error</i>.</p>

<p>The operation is used to construct faults that contain blanks or other characters than cannot appear in a literal fault or ones constructed from a message provided from the host system.</p>

<pre>
     fault '?missing data'
?missing data

     fault &quotNotastring;
Notastring

     fault 3.4
?type error
</pre>

<p>The convention is that all faults generated by Q'Nial internally begin with the character &quot;<i>?</i>&quot.;  The second example shows that this is not a requirement.</p>

<b>Equations</b>

<center><pre>
isfault F ==&gt; fault string F = F

isstring S ==&gt; string fault S = S
</pre></center>

<a name="filestatus">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#fault"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#filetally"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Filestatus<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      system expression<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      Filestatus<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-s.html#status">status</a>,
                     <a href="help-o.html#open">open</a>,
                     <a href="help-c.html#close">close</a>,
                     <a href="help-f.html#filetally">filetally</a><br>
</dl>

<p>The expression <i>filestatus</i> gives information on the files currently open in a Q'Nial session.  It returns a list of triples, one for each open file, giving the file number as an integer, the filename as a phrase and the mode as a character.</p>

<p>The modes are r, w, a, d and c, standing for read, write, append, direct and communications respectively.</p>

<p>The files for standard input, standard output and standard error are opened with modes of r, w and w respectively using file numbers 0, 1 and 2.</p>

<pre>
     Fnum := open &quotF; &quota;
     Filestatus
+---------+----------+----------+-----+
|0 stdin r|1 stdout w|2 stderr w|3 F a|
+---------+----------+----------+-----+
</pre>

<a name="filetally">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#filestatus"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#find"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Filetally<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      file operation<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      filetally Filenum<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-o.html#open">open</a>,
                     <a href="help-r.html#readarray">readarray</a>,
                     <a href="help-w.html#writearray">writearray</a>,
                     <a href="help-r.html#readrecord">readrecord</a>,
                     <a href="help-w.html#writerecord">writerecord</a>,
                     <a href="help-e.html#eraserecord">eraserecord</a>,
                     <a href="help-f.html#filestatus">filestatus</a><br>
</dl>

<p>The operation <i>filetally</i> returns the number of records in the file designated by <i>Filenum</i>, an integer returned by an earlier call to <a href="help-o.html#open"><i>open</i></a>.  The <i>filetally</i> is one higher than the highest component number of a record or array that is written but not erased.</p>

<pre>
     Fn := open &quotnewfile; `d;
     writearray Fn (9 99) ('The' 'End');
     filetally Fn
100
</pre>

<a name="find">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#filetally"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#findall"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Find<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      binary search operation<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      A find B         find A B<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-f.html#findall">findall</a>,
                     <a href="help-s.html#seek">seek</a>,
                     <a href="help-i.html#in">in</a><br>
</dl>

<p>The operation <i>find</i> returns the address of the first occurrence of A as an item of B, searching B in row major order.  If A does not occur in B, the result is the shape of B.  The result of <i>find</i> is a solitary integer if B is a list; and a list of integers of <a href="help-t.html#tally"><i>tally</i></a> equal to <a href="help-v.html#valence"><i>valence</i></a> B otherwise.</p>

<pre>
     set &quotdiagram; ;
     3 find 56 34 3 23 3 57 3
+-+
|2|
+-+
</pre>

<p>The result of <i>find</i> is <a href="help-s.html#solitary"><i>solitary</i></a> 2.</p>

<pre>
     `a find 'hello world'
+--+
|11|
+--+
     2 3 find count 3 4
+-+-+
|1|2|
+-+-+
</pre>

<p>In the second example, the character a is not in the string <i>'hello world'</i> and the result is the <a href="help-s.html#solitary"><i>solitary</i></a> of the <a href="help-t.html#tally"><i>tally</i></a> of <i>'hello world'</i>.  In the last example, the result is a list of two integers because the <a href="help-v.html#valence"><i>valence</i></a> of <a href="help-c.html#count"><i>count</i></a> 3 4 is 2.</p>

<b>Definition</b>

<pre>
find IS OPERATION A B {
   first ( A findall B append shape B ) }
</pre>

<br>
<b>Equations</b>

<center><pre>
A seek B = A [in,find] B

A in B ==&gt; A find B pick B = A

I in grid A and diverse A ==&gt; I pick A find A = I
</pre></center>

<a name="findall">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#find"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#first"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Findall<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      binary selection operation<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      A findall B         findall A B<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-f.html#find">find</a>,
                     <a href="help-c.html#choose">choose</a>,
                     <a href="help-s.html#seek">seek</a>,
                     <a href="help-i.html#in">in</a><br>
</dl>

<p>The operation <i>findall</i> returns a list of the addresses of all occurrences of A as an item of B, searching B in row major order.  If A does not occur in B, the result is the empty list <a href="help-n.html#null"><i>Null</i></a>.</p>

<p>The result of <i>findall</i> is a list of solitaries if B is a list and a list of pairs if B is a table.</p>

<pre>
     3 findall 56 34 3 23 3 57 3
+-+-+-+
|2|4|6|
+-+-+-+

     X := 3 4 reshape 1 7 3 2 3 4 3 2 6 3
1 7 3 2
3 4 3 2
6 3 1 7

     3 findall X
+---+---+---+---+
|0 2|1 0|1 2|2 1|
+---+---+---+---+

     `a findall 'hello world'

     1 1 findall tell 3 4
+---+
|1 1|
+---+
</pre>

<p>The first example returns a list of solitaries; the last example shows that if only one occurrence is found the result is a solitary list.</p>

<b>Definition</b>

<pre>
findall IS OPERATION A B {
   A EACHRIGHT equal B sublist grid B }
</pre>

<br>
<b>Equations</b>

<center><pre>
(list A) findall B = A findall B

list (A findall B) = A findall B

A in B ==&gt; A find B = first (A findall B)
</pre></center>

<a name="first">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#findall"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#flip"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">First<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      selection operation<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      first A<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-l.html#last">last</a>,
                     <a href="help-s.html#second">second</a>,
                     <a href="help-t.html#thirs">third</a>,
                     <a href="help-p.html#pick">pick</a>,
                     <a href="help-t.html#take">take</a><br>
</dl>

<p>The operation <i>first</i> returns the first of the items of A.  If A is empty, it returns the fault <i>?address</i>.</p>

<pre>
     first 4 5 6
4

     first count 3 4 5
1 1 1

     first Null
?address
</pre>

<b>Definition</b>

<pre>
first IS OPERATION A { 0 pick list A }
</pre>

<br>
<b>Equations</b>

<center><pre>
first single A = A

first solitary A = A

not empty A ==&gt; first list A = first A

prod S &gt;= 1 ==&gt; first (S reshape A) = first A

(valence A reshape 0) pick A = first A
</pre></center>

<a name="flip">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#first"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#floor"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Flip<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      restructuring operation<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      flip A<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-p.html#pack">pack</a>
</dl>

<p>The operation <i>flip</i> is a synonym for <a href="help-p.html#pack"><i>pack</i></a>.</p>

<a name="floor">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#flip"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#fold"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Floor<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      unary pervasive arithmetic operation, a primitive<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      floor A<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-other.html#unaryper">unary pervasive</a>,
                     <a href="help-c.html#ceiling">ceiling</a><br>
</dl>

<p>The operation <i>floor</i> produces the following results when applied to atoms of the six types:</p>

<h6 align="center">
<table border="1" cellpadding="10">
<tr>
   <th><b>Atomic Type</b></th><th><b>Result</b></th>
</tr>
<tr><td>boolean</td><td>corresponding integer</td></tr>
<tr><td>integer</td><td>argument A</td></tr>
<tr><td>real</td><td>next lower integer, or the fault ?A if the<br>
                     result is outside the range of integers</td></tr>
<tr><td>character</td><td>fault ?A</td></tr>
<tr><td>Phrase</td><td>fault ?A</td></tr>
<tr><td>fault</td><td>argument A</td></tr>
</table>
</h6>

<pre>
     floor  l  -2  3.5  `a  &quotabc;  ??error
1 -2 3 ?A ?A ?error

     floor  3.5  -4.6  7.0  25.3e20
3 -5 7 ?A
</pre>

<b>Equation</b>

<center><pre>
floor A = opposite ceiling opposite A
</pre></center>

<a name="fold">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#floor"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#for"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Fold<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      applicative transformer<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :<br>
<pre>
                     N FOLD f A
                     FOLD f N A
</pre>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-i.html#iterate">iterate</a>,
                     <a href="help-e.html#each">each</a><br>
</dl>

<p>The transformer <i>fold</i> modifies an operation f to one that takes a pair of arguments consisting of an integer N and an arbitrary array A.  The result of applying the transform is to apply f, N times, applying it first to A and subsequently to the result of the previous application.</p>

<pre>
     3 FOLD rest 4 5 6 7 8 9
7 8 9
     2 FOLD sum (2 3 4) (5 6 7)
27
     sum sum (2 3 4) (5 6 7)
27
</pre>

<b>Definition</b>

<pre>
FOLD IS TRANSFORMER f OPERATION N A {
   IF N &gt; 0 THEN
      N - 1 FOLD f ( f A )
   ELSE
      A
   ENDIF }
</pre>

<br>
<b>Equations</b>

<center><pre>
0 FOLD f A = A
1 FOLD f A = f A
2 FOLD f A = f f A
</pre></center>

<a name="for">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#fold"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#fork"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">For<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      keyword<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">&lt;
      Usage   :<br>
<pre>
                     FOR variable WITH Exp1 DO
                        Exp2
                     ENDFOR
</pre>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-r.html#repeat">repeat</a>,
                     <a href="help-w.html#while">while</a>,
                     <a href="help-e.html#each">each</a>,
                     <a href="help-i.html#iterate">iterate</a>,
                     <a href="help-f.html#fold">fold</a>,
                     <a href="help-e.html#exit">exit</a><br>
</dl>

<p>The <i>for</i> notation is used when executing an expression sequence repeatedly while a variable takes on the values specified as items in an expression.</p>

<pre>
     FOR X WITH 1. 2. 3. DO
        write (X) (X*X) (X power X) ;
     ENDFOR
1. 1. 1.
2. 4. 4.
3. 9. 27.
</pre>

<p>In the example, X takes on the values 1., 2.  and 3.  in successive loops and the values of X, X squared and X to the power X are displayed.</p>

<a name="fork">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#for"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#front"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Fork<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      conditional applicative transformer<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :<br>
<pre>
                     FORK [f,g,h] A
                     FORK [f,g,h,i,j,...z] A
</pre>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-i.html#iterate">iterate</a>,
                     <a href="help-f.html#fold">fold</a><br>
</dl>

<p>The transformer <i>fork</i> implements a conditional functional mechanism corresponding to the if-expression.  The argument to <i>fork</i> must be an atlas of length two or more.  The operation in the first position is a predicate.  If there are exactly three items in the atlas, the first is a predicate; the second is applied to A if the predicate returns <a href="help-t.html#true"><i>true</i></a>; and the third is applied to A if the predicate returns <a href="help-f.html#false"><i>false</i></a>.  That is, if f A is <a href="help-t.html#true"><i>true</i></a>, the result is g A; otherwise it is h A.</p>

<p>If there are more than three operations in the atlas, they are taken in pairs from left to right.  The first of each pair is applied to A in turn until a result is <a href="help-t.html#true"><i>true</i></a>.  The result of the transform is the result of applying the second of that pair to A.  If no application results in <a href="help-t.html#true"><i>true</i></a> and the number of operations in the atlas is an odd number, the last operation is evaluated. Otherwise the result is the fault <i>?noexpr</i>.</p>

<pre>
     FORK [atomic, opposite, 1 +] (3 -4 (5 6 7))
+-+--+-----+
|4|-3|6 7 8|
+-+--+-----+
     FORK [isreal,floor,simple,sum,5+]2 4 6
</pre>

<b>Equation</b>

<center><pre>
FORK [A first, B first, C first, D first, E first] Null =
IF A THEN
B
ELSEIF C THEN
D
ELSE
E
ENDIF
</pre></center>

<a name="front">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#fork"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Front<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      sublist operation, defined in defs.ndf<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      front A<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-l.html#last">last</a>,
                     <a href="help-r.html#rest">rest</a>,
                     <a href="help-f.html#first">first</a><br>
</dl>

<p>The operation <i>front</i> returns a list of all items but the last of A.  If A is a solitary or is empty, the result is the empty list <a href="help-n.html#null"><i>Null</i></a>.</p>

<pre>
     front 3 4 5 6
3 4 5
     front tell 2 3
+---+---+---+---+---+
|0 0|0 1|0 2|1 0|1 1|
+---+---+---+---+---+
</pre>

<b>Definition</b>

<pre>
front IS OPERATION A {
   tally A - 1 max 0 reshape list A }
</pre>

<br>
<b>Equations</b>

<center><pre>
front A = front list A

list front A = front A

front Null = Null

not empty A ==&gt; front A append last A = list A

shape A reshape (front A append last A) =f A
</pre></center>

<a name="fuse">
<hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/leftend.gif">
<a href="help-f.html#front"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/previous.gif" alt="PREVIOUS"></a>
<a href="help-g.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/next.gif" alt="NEXT"></a>
<a href="help-f.html#TOP"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/top.gif" alt="UP"></a>
<a href="help-f.html#fuse"><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/bottom.gif" alt="DOWN"></a>
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/help/rightend.gif">
<h3><hr size="5">
<img border="0" src="/web/19991003104943im_/http://www.nial.com/images/pink_bullet.gif">Fuse<br>
<hr size="5"></a></h3>
<dl>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Class   :      binary axis rearrangement operation, a primitive<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      Usage   :      I fuse A<br>
<dd><img border="0" src="/web/19991003104943im_/http://www.nial.com/images/yellow_bullet.gif" alt="*">
      See     :      <a href="help-t.html#transpose">transpose</a>,
                     <a href="help-b.html#blend">blend</a>,
                     <a href="help-s.html#split">split</a><br>
</dl>

<p>The operation <i>fuse</i> is used for two distinct purposes.  If I is simple and contains all the axes of A without repetition, the result is an array formed by a permutation of the axes of A by I.  The shape of the result is I <a href="help-c.html#choose"><i>choose</i></a> <a href="help-s.html#shape"><i>shape</i></a> A.  If I is not simple but <a href="help-l.html#link"><i>link</i></a> I is simple and contains all of the axes of A without repetition, the result is obtained by diagonalizing along axes that are grouped together, ordering them according to the ordering in I.</p>

<p>If <a href="help-l.html#link"><i>link</i></a> I does not contain all the axes or if there are repetitions of the axes in <a href="help-l.html#link"><i>link</i></a> I, the fault <i>?invalid fuse</i> is returned.</p>

<pre>
     A := 2 3 4 reshape count 24
1  2  3  4   13 14 15 16
5  6  7  8   17 18 19 20
9 10 11 12   21 22 23 24

     1 2 0 fuse A
1 13   5 17    9 21
2 14   6 18   10 22
3 15   7 19   11 23
4 16   8 20   12 24

     0 (1 2) fuse A
 1  6 11
13 18 23
     [0 1 2] fuse A
1 18
</pre>

<p>The first example is an axis permutation; the last two are diagonalizations.</p>

<b>Equations</b>

<center><pre>
axes A fuse A = A

transpose A = ( reverse axes A fuse A )

SORT &lt;= I = axes A and not empty A ==&gt; shape ( I fuse A ) = I choose shape A
</pre></center>

<br>
<hr size="4">
<center>
<map name="footer">
<area shape="rect" coords="0,0,6,6" href="/web/19991003104943/http://www.nial.com/LogInfo/NSLWeeklyReport.html">
<area shape="circle" coords="17,15,17,0" href="https://web.archive.org/web/19991003104943/http://www.nial.com/">
<area shape="rect" coords="19,0,57,30" href="https://web.archive.org/web/19991003104943/http://www.nial.com/">
<area shape="rect" coords="57,0,166,30" href="/web/19991003104943/http://www.nial.com/Products/Products.html">
<area shape="rect" coords="166,0,225,30" href="/web/19991003104943/http://www.nial.com/FTP/FTP.html">
<area shape="rect" coords="225,0,336,30" href="/web/19991003104943/http://www.nial.com/Feedback/Feedback.html">
<area shape="rect" coords="336,0,411,30" href="/web/19991003104943/http://www.nial.com/TryQnial/TryQnial.html">
<area shape="rect" coords="411,0,465,30" href="/web/19991003104943/http://www.nial.com/AboutNSL/AboutNSL.html">
<area shape="circle" coords="452,15,452,0" href="/web/19991003104943/http://www.nial.com/AboutNSL/AboutNSL.html">
<area shape="default" href="https://web.archive.org/web/19991003104943/http://www.nial.com/">
</map>

<a href="/web/19991003104943/http://www.nial.com/include/footer.map">
<img width="469" height="31" border="0" align="TOP" src="/web/19991003104943im_/http://www.nial.com/images/footer.gif" usemap="#footer" ismap> 
</a>
</center>
<p>
<i>Last Modified: Sep 30, 1996</i>
</font></font></font>
</body>
</html>

<!--
     FILE ARCHIVED ON 10:49:43 Oct 03, 1999 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:44:30 Jul 09, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.636
  exclusion.robots: 0.072
  exclusion.robots.policy: 0.061
  esindex: 0.013
  cdx.remote: 11.447
  LoadShardBlock: 397.888 (3)
  PetaboxLoader3.datanode: 204.226 (4)
  PetaboxLoader3.resolve: 518.893 (2)
  load_resource: 330.095
-->